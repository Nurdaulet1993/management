<ng-template ui-page-title>
  <h4 class="page-title m-0">Products</h4>
</ng-template>

<div class="card rounded-1">
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-sm-5">
          <button class="btn btn-primary rounded-1" routerLink="add">
            <i class="bi bi-plus-circle me-2"></i>
            Add Product
          </button>
        </div>
      </div>
      <table class="table table-borderless table-hover">
        <thead>
          <tr>
            <th scope="col">
              <input class="form-check-input" type="checkbox" value="">
            </th>
            <th scope="col">IMAGE</th>
            <th scope="col">PRODUCT NAME</th>
            <th scope="col">DESCRIPTION</th>
            <th scope="col">CATEGORY NAME</th>
            <th scope="col">PRICE</th>
            <th scope="col">STATUS</th>
            <th scope="col">CREATED AT</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          @for (product of products()?.items; track product.id; let i = $index) {
            <tr>
              <td scope="row">
                <input class="form-check-input" type="checkbox" value="">
              </td>
              <td>
                <img src="https://appstack.bootlab.io/img/products/product-12.png" alt="" class="icon-shape icon-md">
              </td>
              <td>{{ product.title }}</td>
              <td>{{ product.description }}</td>
              <td>{{ product.category.title | titlecase }}</td>
              <td>{{ product.price | currency }}</td>
              <td>
                <span class="badge text-bg-success text-white">{{ product.status | titlecase }}</span>
              </td>
              <td>{{ product.createdOn | date: 'MMM d, y, h:mm:ss'}}</td>
              <td>
                <i class="bi bi-three-dots-vertical"></i>
              </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="6">
                <p class="text-muted text-center m-0">There is no products</p>
              </td>

            </tr>
          }
        </tbody>
      </table>

      @if (products()?.meta; as pagination) {
        <ui-pagination
                       [totalItems]="pagination.totalItems"
                       [itemsPerPage]="pagination.itemsPerPage"
                       [itemCount]="pagination.itemCount"
                       (change)="onPaginate($event)"
        ></ui-pagination>
      }
    </div>
  </div>
